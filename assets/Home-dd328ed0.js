import{_ as h,o as r,c as a,h as x,v as S,f as o,k as P,g as b,m as w,r as p,a as d,w as v,b as g,t as u,l as k,F as $,q as C,i as y,n as f}from"./index-0d61ff92.js";const A={name:"Search",data(){return{keyWords:""}},methods:{searchKey(e){this.$store.dispatch("getFilterProduct",{words:e}),this.keyWords="",this.$store.commit("IS_HAVE_DATA")}}},T={class:"search-container"};function I(e,s,_,l,c,n){return r(),a("div",T,[x(o("input",{type:"text",class:"search-input","onUpdate:modelValue":s[0]||(s[0]=t=>c.keyWords=t),onKeyup:s[1]||(s[1]=P(t=>n.searchKey(c.keyWords),["enter"])),placeholder:"請輸入要查詢的商品名稱"},null,544),[[S,c.keyWords,void 0,{trim:!0}]]),o("button",{type:"button",onClick:s[2]||(s[2]=t=>n.searchKey(c.keyWords)),onTouchstart:s[3]||(s[3]=b(t=>n.searchKey(c.keyWords),["stop"])),class:"search-button"}," 送出 ",32)])}const N=h(A,[["render",I],["__scopeId","data-v-64e6b211"]]);const D={components:{Search:N},computed:{...w({cartTotal:"getShoppingCart"})},methods:{logout(){return window.alert("登出成功"),localStorage.removeItem("token")}}},H={class:"title-container"},V={class:"shopping-Cart-container"};function W(e,s,_,l,c,n){const t=p("router-link"),i=p("Search");return r(),a("header",H,[d(t,{class:"title",to:"/"},{default:v(()=>[g("雜物商城")]),_:1}),d(i),o("div",V,[d(t,{class:"shopping-Cart",to:{name:"cart"}},{default:v(()=>[g("購物車("+u(e.cartTotal)+")",1)]),_:1}),d(t,{class:"shopping-Cart logout",to:{name:"Login"},onClick:n.logout},{default:v(()=>[g("登出")]),_:1},8,["onClick"])])])}const B=h(D,[["render",W],["__scopeId","data-v-e09e4f85"]]);const K={name:"Product",mounted(){this.$store.dispatch("getcateGories")},methods:{addCart(e){const{id:s,title:_,price:l,images:c}=e;this.$store.dispatch("addProductToCart",{id:s,title:_,price:l,images:c})},selectProduct(e){if(e)return this.$router.push({path:"/Home/productdetail",query:{id:e}})}},computed:{...k(["productList","isHaveData"]),loadingText(){return this.productList.length===0&&this.isHaveData}}},G={class:"product-list-container"},E={class:"product-wrapper"},F={class:"product-all-list"},q={class:"product-box"},L={class:"product-image"},M=["src","alt","onClick"],z={class:"product-title"},J={class:"product-price"},O=["onClick"],U={key:0,class:"api-error"},j={key:1,class:"api-error",style:{left:"20px"}};function Q(e,s,_,l,c,n){return r(),a("section",G,[o("div",E,[o("ul",F,[(r(!0),a($,null,C(e.productList,(t,i)=>(r(),a("li",{class:"product-all-list-items",key:i},[o("div",q,[o("div",L,[o("img",{src:t.images[0],alt:t.description,onClick:m=>n.selectProduct(t.id)},null,8,M)]),o("span",z,u(t.id)+" "+u(t.title),1),o("span",J,"$"+u(t.price),1),o("button",{type:"button",class:"add-shopping-cart-btn",onClick:m=>n.addCart(t)},"加入購物車",8,O)])]))),128))])]),n.loadingText?(r(),a("span",U,"Loading...")):y("",!0),e.isHaveData?y("",!0):(r(),a("span",j,"抱歉!查無商品"))])}const R=h(K,[["render",Q],["__scopeId","data-v-2b67617e"]]);const X={data(){return{curIndex:0}},mounted(){this.$store.dispatch("getcateGories"),this.$store.dispatch("getProductList",{id:sessionStorage.getItem("id")||0})},methods:{async getAllProduct(e,s){sessionStorage.setItem("id",JSON.stringify(e)),await this.$store.dispatch("getProductList",{id:e}),await this.$store.commit("IS_HAVE_DATA"),this.curIndex=s}},computed:{...k(["cateGories"])}},Y={class:"product-nav-container"},Z={class:"product-nav"},tt={class:"product-nav-item"},et=["onClick"];function st(e,s,_,l,c,n){return r(),a("section",Y,[o("ul",Z,[o("li",tt,[o("span",{class:f(["product-nav-name",{active:c.curIndex===0}]),onClick:s[0]||(s[0]=t=>n.getAllProduct(0,0))},"All",2)]),(r(!0),a($,null,C(e.cateGories,(t,i)=>(r(),a("li",{class:"product-nav-item",key:i},[o("span",{class:f(["product-nav-name",{active:i+1===c.curIndex}]),onClick:m=>n.getAllProduct(t.id,i+1)},u(t.name),11,et)]))),128))])])}const ot=h(X,[["render",st],["__scopeId","data-v-85e4a578"]]);const ct={components:{Product:R,ShoppingCart:B,ProductNavBar:ot}},nt={class:"product-container"};function rt(e,s,_,l,c,n){const t=p("Shopping-Cart"),i=p("Product-Nav-Bar"),m=p("Product");return r(),a($,null,[d(t),o("section",nt,[d(i),d(m)])],64)}const it=h(ct,[["render",rt],["__scopeId","data-v-e6f108c0"]]);export{it as default};
